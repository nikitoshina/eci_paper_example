geom_quantile(
data = filter(wid_data, !(country %in% c("CN", "BR"))),
aes(alpha = "Quantiles", group = 1),
alpha = 0.8,
linewidth = 2,
# show.legend = T,
# color = "lightgrey",
method = "rqss"
) +
scale_colour_Publication() +
scale_y_continuous(labels = scales::label_percent()) +
labs(
subtitle = "With Quantiles",
y = NULL,
x = NULL
) +
scale_alpha_manual(
name = NULL,
values = c(1),
breaks = c("Quantiles"),
guide = guide_legend(
override.aes = list(
linetype = c(1),
shape = c(NA),
color = "gray"
)
)
)
#| label: fig-wid-inc
#| title: "% Total Income by Top 10%"
wid_data %>%
filter(country %in% c("CN", "BR")) %>%
mutate(country = case_match(country, "CN" ~ "China", "BR" ~ "Brazil")) %>%
ggplot(aes(x = year, y = value, color = country)) +
geom_line(linewidth = 2) +
geom_quantile(
data = filter(wid_data, !(country %in% c("CN", "BR"))),
aes(alpha = "Quantiles", group = "none"),
alpha = 0.8,
linewidth = 2,
# show.legend = T,
# color = "lightgrey",
method = "rqss"
) +
scale_colour_Publication() +
scale_y_continuous(labels = scales::label_percent()) +
labs(
subtitle = "With Quantiles",
y = NULL,
x = NULL
) +
scale_alpha_manual(
name = NULL,
values = c(1),
breaks = c("Quantiles"),
guide = guide_legend(
override.aes = list(
linetype = c(1),
shape = c(NA),
color = "gray"
)
)
)
#| label: fig-wid-inc
#| title: "% Total Income by Top 10%"
wid_data %>%
filter(country %in% c("CN", "BR")) %>%
mutate(country = case_match(country, "CN" ~ "China", "BR" ~ "Brazil")) %>%
ggplot(aes(x = year, y = value, color = country)) +
geom_line(linewidth = 2) +
geom_quantile(
data = filter(wid_data, !(country %in% c("CN", "BR"))),
aes(alpha = "Quantiles", colour = "none"),
alpha = 0.8,
linewidth = 2,
# show.legend = T,
# color = "lightgrey",
method = "rqss"
) +
scale_colour_Publication() +
scale_y_continuous(labels = scales::label_percent()) +
labs(
subtitle = "With Quantiles",
y = NULL,
x = NULL
) +
scale_alpha_manual(
name = NULL,
values = c(1),
breaks = c("Quantiles"),
guide = guide_legend(
override.aes = list(
linetype = c(1),
shape = c(NA),
color = "gray"
)
)
)
#| label: fig-wid-inc
#| title: "% Total Income by Top 10%"
wid_data %>%
filter(country %in% c("CN", "BR")) %>%
mutate(country = case_match(country, "CN" ~ "China", "BR" ~ "Brazil")) %>%
ggplot(aes(x = year, y = value, color = country)) +
geom_line(linewidth = 2) +
geom_quantile(
data = filter(wid_data, !(country %in% c("CN", "BR"))),
aes(colour = "Quantiles"),
alpha = 0.8,
linewidth = 2,
# show.legend = T,
# color = "lightgrey",
method = "rqss"
) +
scale_colour_Publication() +
scale_y_continuous(labels = scales::label_percent()) +
labs(
subtitle = "With Quantiles",
y = NULL,
x = NULL
) +
scale_alpha_manual(
name = NULL,
values = c(1),
breaks = c("Quantiles"),
guide = guide_legend(
override.aes = list(
linetype = c(1),
shape = c(NA),
color = "gray"
)
)
)
#| label: fig-wid-inc
#| title: "% Total Income by Top 10%"
wid_data %>%
filter(country %in% c("CN", "BR")) %>%
mutate(country = case_match(country, "CN" ~ "China", "BR" ~ "Brazil")) %>%
ggplot(aes(x = year, y = value, color = country)) +
geom_line(linewidth = 2) +
geom_quantile(
data = filter(wid_data, !(country %in% c("CN", "BR"))),
aes(colour = "Quantiles"),
alpha = 0.8,
linewidth = 2,
# show.legend = T,
color = "lightgrey",
method = "rqss"
) +
scale_colour_Publication() +
scale_y_continuous(labels = scales::label_percent()) +
labs(
subtitle = "With Quantiles",
y = NULL,
x = NULL
) +
scale_alpha_manual(
name = NULL,
values = c(1),
breaks = c("Quantiles"),
guide = guide_legend(
override.aes = list(
linetype = c(1),
shape = c(NA),
color = "gray"
)
)
)
#| label: fig-wid-inc
#| title: "% Total Income by Top 10%"
wid_data %>%
filter(country %in% c("CN", "BR")) %>%
mutate(country = case_match(country, "CN" ~ "China", "BR" ~ "Brazil")) %>%
ggplot(aes(x = year, y = value, color = country)) +
geom_line(linewidth = 2) +
geom_quantile(
data = filter(wid_data, !(country %in% c("CN", "BR"))),
aes(colour = "Quantiles"),
alpha = 0.8,
linewidth = 2,
# show.legend = T,
color = "lightgrey",
method = "rqss"
) +
scale_colour_Publication() +
scale_y_continuous(labels = scales::label_percent()) +
labs(
subtitle = "With Quantiles",
y = NULL,
x = NULL
) +
scale_alpha_manual(
name = NULL,
values = c(1),
breaks = c("Quantiles"),
guide = guide_legend(
override.aes = list(
linetype = c(1),
shape = c(NA),
color = "gray"
)
)
)
#| label: fig-wid-inc
#| title: "% Total Income by Top 10%"
wid_data %>%
filter(country %in% c("CN", "BR")) %>%
mutate(country = case_match(country, "CN" ~ "China", "BR" ~ "Brazil")) %>%
ggplot(aes(x = year, y = value, color = country)) +
geom_line(linewidth = 2) +
geom_quantile(
data = filter(wid_data, !(country %in% c("CN", "BR"))),
aes(alpha = "hi", colour = "Quantiles"),
alpha = 0.8,
linewidth = 2,
# show.legend = T,
# color = "lightgrey",
method = "rqss"
) +
scale_colour_Publication() +
scale_y_continuous(labels = scales::label_percent()) +
labs(
subtitle = "With Quantiles",
y = NULL,
x = NULL
) +
scale_alpha_manual(
name = NULL,
values = c(1),
breaks = c("Quantiles"),
guide = guide_legend(
override.aes = list(
linetype = c(1),
shape = c(NA),
color = "gray"
)
)
)
#| label: fig-wid-inc
#| title: "% Total Income by Top 10%"
wid_data %>%
filter(country %in% c("CN", "BR")) %>%
mutate(country = case_match(country, "CN" ~ "China", "BR" ~ "Brazil")) %>%
ggplot(aes(x = year, y = value, color = country)) +
geom_line(linewidth = 2) +
geom_quantile(
data = filter(wid_data, !(country %in% c("CN", "BR"))),
aes(alpha = "hi", colour = "Quantiles"),
alpha = 0.8,
linewidth = 2,
# show.legend = T,
# color = "lightgrey",
method = "rqss"
) +
scale_colour_Publication() +
scale_y_continuous(labels = scales::label_percent()) +
labs(
subtitle = "With Quantiles",
y = NULL,
x = NULL
)
#| label: fig-wid-inc
#| title: "% Total Income by Top 10%"
wid_data %>%
filter(country %in% c("CN", "BR")) %>%
mutate(country = case_match(country, "CN" ~ "China", "BR" ~ "Brazil")) %>%
ggplot(aes(x = year, y = value, color = country)) +
geom_line(linewidth = 2) +
geom_quantile(
data = filter(wid_data, !(country %in% c("CN", "BR"))),
aes(alpha = "hi", colour = "Quantiles"),
alpha = 0.8,
linewidth = 2,
# show.legend = T,
color = "lightgrey",
method = "rqss"
) +
scale_colour_Publication() +
scale_y_continuous(labels = scales::label_percent()) +
labs(
subtitle = "With Quantiles",
y = NULL,
x = NULL
)
#| label: fig-wid-inc
#| title: "% Total Income by Top 10%"
wid_data %>%
filter(country %in% c("CN", "BR")) %>%
mutate(country = case_match(country, "CN" ~ "China", "BR" ~ "Brazil")) %>%
ggplot(aes(x = year, y = value, color = country)) +
geom_line(linewidth = 2) +
geom_quantile(
data = filter(wid_data, !(country %in% c("CN", "BR"))),
aes(alpha = "hi", colour = "Quantiles"),
alpha = 0.8,
linewidth = 2,
# show.legend = T,
# color = "lightgrey",
method = "rqss"
) +
scale_colour_Publication() +
scale_y_continuous(labels = scales::label_percent()) +
labs(
subtitle = "With Quantiles",
y = NULL,
x = NULL
)
#| label: fig-wid-inc
#| title: "% Total Income by Top 10%"
wid_data %>%
filter(country %in% c("CN", "BR")) %>%
mutate(country = case_match(country, "CN" ~ "China", "BR" ~ "Brazil")) %>%
ggplot(aes(x = year, y = value, color = country)) +
geom_line(linewidth = 2) +
geom_quantile(
data = filter(wid_data, !(country %in% c("CN", "BR"))),
aes(alpha = "hi", colour = "Quantiles"),
alpha = 0.8,
linewidth = 2,
# show.legend = T,
# color = "lightgrey",
method = "rqss"
) +
scale_colour_Publication() +
scale_y_continuous(labels = scales::label_percent()) +
labs(
subtitle = "With Quantiles",
y = NULL,
x = NULL
) %>%
scale_colour_manual(
values = c(hi = "black", bye = "pink", cool = "red")
)
#| label: fig-wid-inc
#| title: "% Total Income by Top 10%"
wid_data %>%
filter(country %in% c("CN", "BR")) %>%
mutate(country = case_match(country, "CN" ~ "China", "BR" ~ "Brazil")) %>%
ggplot(aes(x = year, y = value, color = country)) +
geom_line(linewidth = 2) +
geom_quantile(
data = filter(wid_data, !(country %in% c("CN", "BR"))),
aes(alpha = "hi", colour = "Quantiles"),
alpha = 0.8,
linewidth = 2,
# show.legend = T,
# color = "lightgrey",
method = "rqss"
) +
scale_colour_Publication() +
scale_y_continuous(labels = scales::label_percent()) +
labs(
subtitle = "With Quantiles",
y = NULL,
x = NULL
) %>%
scale_colour_manual(
values = c("black", "pink", "red")
)
styler:::style_selection()
#| label: fig-wid-inc
#| title: "% Total Income by Top 10%"
wid_data %>%
filter(country %in% c("CN", "BR")) %>%
mutate(country = case_match(country, "CN" ~ "China", "BR" ~ "Brazil")) %>%
ggplot(aes(x = year, y = value, color = country)) +
geom_line(linewidth = 2) +
geom_quantile(
data = filter(wid_data, !(country %in% c("CN", "BR"))),
aes(alpha = "hi", colour = "Quantiles"),
alpha = 0.8,
linewidth = 2,
# show.legend = T,
# color = "lightgrey",
method = "rqss"
) +
scale_colour_Publication() +
scale_y_continuous(labels = scales::label_percent()) +
labs(
subtitle = "With Quantiles",
y = NULL,
x = NULL
) %>%
scale_colour_manual(
values <- c("#386cb0", "#fdb462", "lightgrey")
)
#| label: fig-wid-inc
#| title: "% Total Income by Top 10%"
wid_data %>%
filter(country %in% c("CN", "BR")) %>%
mutate(country = case_match(country, "CN" ~ "China", "BR" ~ "Brazil")) %>%
ggplot(aes(x = year, y = value, color = country)) +
geom_line(linewidth = 2) +
geom_quantile(
data = filter(wid_data, !(country %in% c("CN", "BR"))),
aes(alpha = "hi", colour = "Quantiles"),
alpha = 0.8,
linewidth = 2,
# show.legend = T,
# color = "lightgrey",
method = "rqss"
) +
scale_colour_Publication() +
scale_y_continuous(labels = scales::label_percent()) +
labs(
subtitle = "With Quantiles",
y = NULL,
x = NULL
) %>%
scale_colour_manual(
values = c("#386cb0", "#fdb462", "lightgrey")
)
#| label: fig-wid-inc
#| title: "% Total Income by Top 10%"
wid_data %>%
filter(country %in% c("CN", "BR")) %>%
mutate(country = case_match(country, "CN" ~ "China", "BR" ~ "Brazil")) %>%
ggplot(aes(x = year, y = value, color = country)) +
geom_line(linewidth = 2) +
geom_quantile(
data = filter(wid_data, !(country %in% c("CN", "BR"))),
aes(alpha = "hi", colour = "Quantiles"),
alpha = 0.8,
linewidth = 2,
# show.legend = T,
# color = "lightgrey",
method = "rqss"
) +
scale_y_continuous(labels = scales::label_percent()) +
labs(
subtitle = "With Quantiles",
y = NULL,
x = NULL
) %>%
scale_colour_manual(
values = c("#386cb0", "#fdb462", "lightgrey")
)
#| label: fig-wid-inc
#| title: "% Total Income by Top 10%"
wid_data %>%
filter(country %in% c("CN", "BR")) %>%
mutate(country = case_match(country, "CN" ~ "China", "BR" ~ "Brazil")) %>%
ggplot(aes(x = year, y = value, color = country)) +
geom_line(linewidth = 2) +
geom_quantile(
data = filter(wid_data, !(country %in% c("CN", "BR"))),
aes(alpha = "hi", colour = "Quantiles"),
alpha = 0.8,
linewidth = 2,
# show.legend = T,
# color = "lightgrey",
method = "rqss"
) +
scale_y_continuous(labels = scales::label_percent()) +
labs(
subtitle = "With Quantiles",
y = NULL,
x = NULL
) +
scale_colour_manual(
values = c("#386cb0", "#fdb462", "lightgrey")
)
#| label: fig-wid-inc
#| title: "% Total Income by Top 10%"
wid_data %>%
filter(country %in% c("CN", "BR")) %>%
mutate(country = case_match(country, "CN" ~ "China", "BR" ~ "Brazil")) %>%
ggplot(aes(x = year, y = value, color = country)) +
geom_line(linewidth = 2) +
geom_quantile(
data = filter(wid_data, !(country %in% c("CN", "BR"))),
aes(alpha = "hi", colour = "Quantiles"),
alpha = 0.8,
linewidth = 2,
# show.legend = T,
# color = "lightgrey",
method = "rqss"
) +
scale_y_continuous(labels = scales::label_percent()) +
labs(
# subtitle = "With Quantiles",
y = NULL,
x = NULL
) +
scale_colour_manual(
values = c("#386cb0", "#fdb462", "lightgrey")
)
mys_plot + hdi_plot + plot_layout(guides = 'collect')
mys_plot + hdi_plot + plot_layout(guides = 'collect') + plot_annotation(caption = "United Nations Human Development Reports")
#| label: fig-gdppc
#| fig-cap: "GDP per Capita"
gdp_data %>%
filter(iso3c %in% c("CHN", "BRA")) %>%
mutate(iso3c = case_match(iso3c, "CHN" ~ "China", "BRA" ~ "Brazil", .default = iso3c)) %>%
ggplot(aes(x = year, y = rgdppc, color = iso3c)) +
# geom_line(data = filter(gdp_data, !iso3c %in% c("CHN", "BRA")), aes( group = iso3c), color = "lightgrey") +
geom_line(linewidth = 1.2) +
geom_line(show.legend = F) +
# coord_cartesian(ylim= c(0,10^5)) +
scale_colour_Publication() +
labs(
x = NULL,
y = "GDPpc",
caption = "Penn World Table") +
scale_y_continuous(labels = scales::label_dollar())
quarto::quarto_render()
cat(rep("\n"))
cat(rep("\n", 100))
quarto::quarto_render()
renv::init()
renv::deactivate()
print("helo")
