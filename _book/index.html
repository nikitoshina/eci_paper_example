<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Nikita Tkachenko">
<meta name="dcterms.date" content="2024-07-07">

<title>Growth Path Comparison of China and Brazil</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./index.html"><span class="chapter-title">Abstract</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Growth Path Comparison of China and Brazil</a> 
        <div class="sidebar-tools-main">
    <a href="./Growth-Path-Comparison-of-China-and-Brazil.pdf" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link active"><span class="chapter-title">Abstract</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#abstract" id="toc-abstract" class="nav-link active" data-scroll-target="#abstract">Abstract</a></li>
  <li><a href="#literature-review" id="toc-literature-review" class="nav-link" data-scroll-target="#literature-review">Literature Review</a></li>
  <li><a href="#comparing-brazil-and-china-as-example" id="toc-comparing-brazil-and-china-as-example" class="nav-link" data-scroll-target="#comparing-brazil-and-china-as-example">Comparing Brazil and China as Example</a>
  <ul class="collapse">
  <li><a href="#data-review" id="toc-data-review" class="nav-link" data-scroll-target="#data-review">Data Review</a></li>
  <li><a href="#gdp-as-an-economic-measure" id="toc-gdp-as-an-economic-measure" class="nav-link" data-scroll-target="#gdp-as-an-economic-measure">GDP as an Economic Measure</a></li>
  <li><a href="#gdp-per-capita-for-equitable-economic-insight" id="toc-gdp-per-capita-for-equitable-economic-insight" class="nav-link" data-scroll-target="#gdp-per-capita-for-equitable-economic-insight">GDP Per Capita for Equitable Economic Insight</a></li>
  <li><a href="#mean-years-of-schooling-and-human-development-index-hdi" id="toc-mean-years-of-schooling-and-human-development-index-hdi" class="nav-link" data-scroll-target="#mean-years-of-schooling-and-human-development-index-hdi">Mean Years of Schooling and Human Development Index (HDI)</a></li>
  <li><a href="#economic-inequality-measurement" id="toc-economic-inequality-measurement" class="nav-link" data-scroll-target="#economic-inequality-measurement">Economic Inequality Measurement</a></li>
  <li><a href="#economic-complexity-as-a-measure-of-productive-knowledge" id="toc-economic-complexity-as-a-measure-of-productive-knowledge" class="nav-link" data-scroll-target="#economic-complexity-as-a-measure-of-productive-knowledge">Economic Complexity as a Measure of Productive Knowledge</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Growth Path Comparison of China and Brazil</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Nikita Tkachenko <a href="mailto:ntkachenko@bridges-and-barriers.com" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 7, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><img src="pictures/china_brazil_aigen.png" class="img-fluid"></p>
<section id="abstract" class="level2">
<h2 class="anchored" data-anchor-id="abstract">Abstract</h2>
<p>In this article we will look at the different growth paths of China and Brazil, and particularly examine the development of production capabilities, human development index, economic inequality, years of education and gross domestic profit (GDP).</p>
</section>
<section id="literature-review" class="level2">
<h2 class="anchored" data-anchor-id="literature-review">Literature Review</h2>
<p>Here’s the illustration depicting the economic growth paths of China and Brazil, based on the aspects you mentioned like production capabilities, human development index, economic inequality, years of education, and GDP. It’s designed to be informative and visually engaging for your article. You can view and download the image above.</p>
<p>Predicting economic growth is no easy excercise, but what we can do is examine how some indicators interact with the measurements of growth.</p>
<p>Education is essential not just for creating and implementing technology but also for spreading it, as it equips the population with the skills to use inventions productively <span class="citation" data-cites="hanushekKnowledgeCapitalNations2015">Hanushek and Ludger Woessmann (<a href="#ref-hanushekKnowledgeCapitalNations2015" role="doc-biblioref">2015</a>)</span>. Education levels, including years of schooling, correlate with output growth <span class="citation" data-cites="bronziniDeterminantsLongrunRegional2009">Bronzini and Piselli (<a href="#ref-bronziniDeterminantsLongrunRegional2009" role="doc-biblioref">2009</a>)</span> <span class="citation" data-cites="griffithMappingTwoFaces2004">Griffith, Redding, and Reenen (<a href="#ref-griffithMappingTwoFaces2004" role="doc-biblioref">2004</a>)</span> and are necessary for developing countries to catch up technologically. <span class="citation" data-cites="benhabibChapter13Human2005">Benhabib and Spiegel (<a href="#ref-benhabibChapter13Human2005" role="doc-biblioref">2005</a>)</span></p>
<p>Research and Development (R&amp;D) expenditures strongly correlate with output or Total Factor Productivity (TFP) growth and the catch-up process <span class="citation" data-cites="griffithMappingTwoFaces2004">Griffith, Redding, and Reenen (<a href="#ref-griffithMappingTwoFaces2004" role="doc-biblioref">2004</a>)</span> <span class="citation" data-cites="guellecProductivityGrowthInstitutional2004">Guellec and Pottelsberghe de la Potterie (<a href="#ref-guellecProductivityGrowthInstitutional2004" role="doc-biblioref">2004</a>)</span>. International R&amp;D spillovers <span class="citation" data-cites="coeInternationalSpillovers1995">Coe and Helpman (<a href="#ref-coeInternationalSpillovers1995" role="doc-biblioref">1995</a>)</span> and the adoption of information technology have also been significant productivity boosters <span class="citation" data-cites="olinerExplainingProductiveDecade2008">Oliner, Sichel, and Stiroh (<a href="#ref-olinerExplainingProductiveDecade2008" role="doc-biblioref">2008</a>)</span> <span class="citation" data-cites="vanarkProductivityGapEurope2008">Ark, O’Mahony, and Timmer (<a href="#ref-vanarkProductivityGapEurope2008" role="doc-biblioref">2008</a>)</span> , especially at the turn of the century.</p>
<p>Innovation drives economic growth by pushing the production frontier through new technologies, which enhances productivity and creates high-yielding activities. However, only a few countries have been leaders in advancing technology <span class="citation" data-cites="furmanCatchingStandingStill2004a">Furman and Hayes (<a href="#ref-furmanCatchingStandingStill2004a" role="doc-biblioref">2004</a>)</span> , while most have later adapted and adopted these advancements <span class="citation" data-cites="cominTechnologyUsageLags2008">Comin, Hobijn, and Rovito (<a href="#ref-cominTechnologyUsageLags2008" role="doc-biblioref">2008</a>)</span>.</p>
<p>Innovation is the moving force of the production frontier. The creation and implementation of new technologies increase productivity and create new high-yielding activities. It is worth noting that only a few countries managed to advance technology (Furman &amp; Hayes, 2004; Griffith, Redding, &amp; Reenen, 2004) and most countries adapted and adopted those later (Comin, Hobijn, &amp; Rovito, 2008).</p>
<p>The Economic Complexity Index (ECI) is an innovative metric introduced by <span class="citation" data-cites="hidalgoBuildingBlocksEconomic2009">Hidalgo and Hausmann (<a href="#ref-hidalgoBuildingBlocksEconomic2009" role="doc-biblioref">2009</a>)</span> to quantify economic development by assessing the complexity of a country’s economy. Economic complexity considers a country’s productive structure and the interactions that underlie various socioeconomic outcomes, such as growth, technological change, and inequality. It posits that economic growth and development are not just about what a country produces, but also about the complexity and diversity of these products.</p>
<p>The ECI is calculated based on the diversity of products a country exports and the complexity of each product. A complex product is one that is produced by fewer countries, necessitating a more advanced production system. The index iterates through products and countries, adjusting weights based on the diversity and ubiquity of products and the complexity of the producing countries, until it reaches stable measures of complexity for both.</p>
<p>The ECI is considered a more accurate reflection of a country’s productive knowledge and capabilities than traditional indicators. It has shown explanatory power for economic growth and has outperformed other indicators related to institutional quality, human capital, and financial development in predicting economic success. Research suggests that economic complexity can even forecast economic growth cycles.</p>
</section>
<section id="comparing-brazil-and-china-as-example" class="level2">
<h2 class="anchored" data-anchor-id="comparing-brazil-and-china-as-example">Comparing Brazil and China as Example</h2>
<p>We will examine the economic complexity index relationships with common measures of economic development such as real gdp, real gdp per capita, human development index, inequality, and years of education.</p>
<p>There will be no claims regarding causality and relationship as this is purely exploratory exercise.</p>
<p>We will compare 2 countries Brazil and China in the period from 1990-2020 as they both started at around the same level of GDP in 1990, and have shown economic growth, although China a lot more so.</p>
<p>From 1990 to 2020, Brazil and China both emerged as significant players on the global economic stage, each experiencing substantial growth. They shared similarities in their paths, including integrating into the global market and undergoing rapid urbanization.</p>
<p>However, their growth narratives diverge sharply. China’s economy expanded at an extraordinary pace, sustained by manufacturing and exports, underpinned by state-led investment and policy implementation. This approach transformed China into the world’s second-largest economy with a complex and diversified industrial base.</p>
<p>Brazil’s growth, while notable, especially in the 2000s, was more modest and marked by reliance on commodity exports. Democratic governance in Brazil led to more market-oriented policies, but with slower and sometimes contentious economic reforms. Despite efforts, Brazil’s economy has remained less complex and more focused on natural resources.</p>
<p>China’s investment in human capital and infrastructure outpaced Brazil’s, fueling its ascent up the global value chain. Meanwhile, Brazil faced persistent challenges with education reform and infrastructure development. Both countries made strides in poverty reduction, yet income inequality persisted, particularly pronounced in Brazil.</p>
<p>In essence, during these three decades, China’s rapid, state-directed economic strategy contrasted with Brazil’s slower, market-driven approach, leading to different scales and structures of economic growth.</p>
<section id="data-review" class="level3">
<h3 class="anchored" data-anchor-id="data-review">Data Review</h3>
<p>The <a href="https://www.rug.nl/ggdc/productivity/pwt/?lang=en">Penn World Table (PWT)</a> <span class="citation" data-cites="feenstraNextGenerationPenn2015">Feenstra, Inklaar, and Timmer (<a href="#ref-feenstraNextGenerationPenn2015" role="doc-biblioref">2015</a>)</span> version 10.01, managed by the University of Groningen, offers a database with detailed economic data for 183 countries from 1950 to 2019. It includes key metrics on income, output, input, and productivity to support economic research and analysis across nations. PWT is pivotal for comparing economic development and standards of living globally, with its data accessible in various formats for comprehensive analysis. We will be using real GDP and population.</p>
<p>The <a href="https://wid.world/">World Inequality Database (WID.world)</a> <span class="citation" data-cites="Piketty2024">Piketty et al. (<a href="#ref-Piketty2024" role="doc-biblioref">2024</a>)</span> is a comprehensive platform offering global data on income and wealth inequality. It uniquely combines national accounts, survey data, and fiscal sources to provide more accurate inequality estimates from the bottom to the top of the distribution across many countries and over extended periods. WID.world’s innovative approach addresses traditional data sources’ limitations, enabling precise tracking of economic disparities. The database is a collaborative effort of over 100 researchers worldwide, supported entirely by public and non-profit contributions.</p>
<p>The <a href="https://hdr.undp.org/">Human Development Reports</a> <span class="citation" data-cites="UNDP2022">(UNDP) (<a href="#ref-UNDP2022" role="doc-biblioref">2022</a>)</span> , produced by the United Nations Development Programme, focus on expanding human life’s richness beyond just economic growth. They offer insights on people’s opportunities and choices, emphasizing capabilities as the ultimate criteria for assessing a country’s development. The reports cover various indices and data, including the Human Development Index (HDI), gender gaps, inequality, poverty, and planetary pressures, aiming to accelerate progress on Sustainable Development Goals. We will use HDI and mean years of schooling.</p>
<p>The <a href="https://atlas.cid.harvard.edu/data-downloads">Atlas of Economic Complexity</a> <span class="citation" data-cites="HarvardAtlas">International Development at Harvard University (<a href="#ref-HarvardAtlas" role="doc-biblioref">n.d.</a>)</span> , a Harvard University Growth Lab project, maps global trade data, covering 250 countries across over 6000 products. It sources goods data from the UN’s COMTRADE and services data from the IMF’s Direction of Trade Statistics. The Atlas is the primary source of Economic Complexity index <span class="citation" data-cites="university2019">(<a href="#ref-university2019" role="doc-biblioref">University 2019</a>)</span>.</p>
</section>
<section id="gdp-as-an-economic-measure" class="level3">
<h3 class="anchored" data-anchor-id="gdp-as-an-economic-measure">GDP as an Economic Measure</h3>
<p>Gross Domestic Product (GDP) signifies the total market value of all goods and services produced within a country’s borders over a specified period. It serves as a primary gauge of economic size and growth. Its main advantage is offering a comprehensive snapshot of a nation’s economic activity, facilitating time-over-time comparisons and macroeconomic analysis. However, GDP overlooks income distribution, environmental costs, and non-market activities, such as unpaid domestic work, failing to reflect the broader aspects of societal well-being and sustainable economic health.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-gdp-growth" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-gdp-growth-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="index_files/figure-html/fig-gdp-growth-1.png" class="img-fluid figure-img" width="2100">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-gdp-growth-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Gross Domestic Product
</figcaption>
</figure>
</div>
</div>
</div>
<!-- ```{r} -->
<!-- gdp_rank_1995 <- gdp_data %>% -->
<!--   filter(year == 1995) %>% -->
<!--   drop_na(rgdpe) %>% -->
<!--   arrange(rgdpe) %>% -->
<!--   transmute(iso3c, rgdpe, pop, rank = row_number()) %>% -->
<!--   rename(GDP = rgdpe, Rank = rank, Population = pop) %>% -->
<!--   mutate(GDP = scales::label_dollar()(GDP), -->
<!--          Population = scales::label_number(big.mark = ",")(round(Population,0))) -->
<!-- ranks_bra_chn <- which(gdp_rank_1995$iso3c %in% c("BRA", "CHN")) -->
<!-- neigh_bra <- gdp_rank_1995 |> slice( -->
<!--   full_seq( -->
<!--     c(ranks_bra_chn[1] + c(-2, 2)), -->
<!--     period = 1 -->
<!--   ) -->
<!-- ) -->
<!-- neigh_chn <- gdp_rank_1995 |> slice( -->
<!--   full_seq( -->
<!--     c(ranks_bra_chn[2] + c(-2, 2)), -->
<!--     period = 1 -->
<!--   ) -->
<!-- ) -->
<!-- library(gt) -->
<!-- neigh_bra <- neigh_bra |> gt::gt() |> gt::tab_style( -->
<!--   style = cell_text(weight = "bold"), -->
<!--   locations = cells_body(rows = 3) -->
<!-- ) |>  tab_header( -->
<!--     title = md("Brazil GDP Neighbors") -->
<!--   ) -->
<!-- neigh_chn <- neigh_chn |> gt::gt() |> gt::tab_style( -->
<!--   style = cell_text(weight = "bold"), -->
<!--   locations = cells_body(rows = 3) -->
<!-- ) |> tab_header( -->
<!--     title = md("China GDP Neighbors") -->
<!--   ) -->
<!-- library(gtExtras) -->
<!-- gt_two_column_layout(list("Brazil" = neigh_bra, "China" = neigh_chn)) -->
<!-- ``` -->
</section>
<section id="gdp-per-capita-for-equitable-economic-insight" class="level3">
<h3 class="anchored" data-anchor-id="gdp-per-capita-for-equitable-economic-insight">GDP Per Capita for Equitable Economic Insight</h3>
<p>GDP per capita divides the total GDP by the population size, providing an average economic output per person. This measure attempts to offer a clearer picture of an individual’s contribution to the economy and a more accurate representation of living standards. It allows for more meaningful comparisons between countries of different sizes. Nevertheless, it does not address the skewness of income distribution within countries and still excludes non-economic factors affecting quality of life.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-gdppc" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-gdppc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="index_files/figure-html/fig-gdppc-1.png" class="img-fluid figure-img" width="2100">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-gdppc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: GDP per Capita
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="mean-years-of-schooling-and-human-development-index-hdi" class="level3">
<h3 class="anchored" data-anchor-id="mean-years-of-schooling-and-human-development-index-hdi">Mean Years of Schooling and Human Development Index (HDI)</h3>
<p>Mean Years of Schooling (MYS) is a crucial indicator in measuring development, representing the average number of years of education received by individuals aged 25 and older. This metric reflects the accessibility and quality of education over time, providing insights into a country’s educational attainment and its long-term commitment to human capital development. Higher Mean Years of Schooling typically correlate with better economic opportunities, improved health outcomes, and greater social mobility. By assessing this indicator, policymakers and researchers can gauge the effectiveness of educational policies and identify areas needing improvement to enhance overall human development.</p>
<p>Building on this, the Human Development Index (HDI) integrates GDP per capita with life expectancy, education, and income indicators to offer a comprehensive perspective on country development. It transcends mere economic metrics by including health and education, thereby reflecting the broader aspects of human development. The HDI’s strength lies in its multifaceted approach to measuring well-being, emphasizing the importance of human capabilities. However, it may not fully capture all dimensions of quality of life and tends to rely on averages, which can obscure internal disparities within countries.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-hdi-mys" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hdi-mys-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="index_files/figure-html/fig-hdi-mys-1.png" class="img-fluid figure-img" width="2100">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hdi-mys-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Human Development Index and Mean Years of Schooling
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="economic-inequality-measurement" class="level3">
<h3 class="anchored" data-anchor-id="economic-inequality-measurement">Economic Inequality Measurement</h3>
<p>The percentage of income held by the top 10% of the population is a direct measure of economic inequality. It highlights the extent of income concentration at the upper end of the income distribution, providing insight into the disparities within a country’s economic fabric. This metric is crucial for understanding the depth of inequality and guiding policies aimed at redistributing wealth more equitably. While informative, it focuses narrowly on income disparities and might not fully represent other forms of inequality, such as access to education, healthcare, and opportunities, which are critical for a comprehensive understanding of social and economic inequality.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-wid-inc" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-wid-inc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="index_files/figure-html/fig-wid-inc-1.png" class="img-fluid figure-img" width="2100">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-wid-inc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: % Total Income by Top 10%
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="economic-complexity-as-a-measure-of-productive-knowledge" class="level3">
<h3 class="anchored" data-anchor-id="economic-complexity-as-a-measure-of-productive-knowledge">Economic Complexity as a Measure of Productive Knowledge</h3>
<p>The Economic Complexity Index (ECI) represents a measure of a country’s productive knowledge, quantifying the diversity and sophistication of its export products. Developed as a tool to capture the complexity of an economy’s productive structure, ECI assesses the extent to which a country produces a variety of complex goods that few other countries can produce. Unlike traditional economic indicators, the ECI provides insights into the underlying capabilities and innovation potential of an economy, reflecting the knowledge, skills, and technology embedded in its export products.</p>
<p>The advantage of the ECI lies in its ability to predict economic growth and development potential by looking beyond mere output or income levels. It suggests that countries producing more complex goods are likely to experience faster growth due to their competitive advantage in higher-value-added sectors. This complexity is linked to better economic outcomes, higher incomes, and more stable growth.</p>
<p>However, the ECI’s focus on exports and production complexity might not capture the full scope of an economy’s strengths and weaknesses, especially in countries with significant domestic markets or service-oriented economies. Moreover, like other indices, it may not directly address socio-economic factors such as inequality, environmental sustainability, or quality of life, requiring complementary measures to paint a full picture of a country’s development status.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-ec-rankings" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ec-rankings-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="index_files/figure-html/fig-ec-rankings-1.png" class="img-fluid figure-img" width="2100">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ec-rankings-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Economic Complexity Rankings
</figcaption>
</figure>
</div>
</div>
</div>
<blockquote class="blockquote">
<p>For better interactive visualization visit https://atlas.cid.harvard.edu</p>
</blockquote>
<p>From <a href="#fig-ec-rankings" class="quarto-xref">Figure&nbsp;<span class="quarto-unresolved-ref">fig-ec-rankings</span></a> we see that while Brazil Starts as a more advanced country than China, it drops below in early 2000-s continuing to sink to the middle while China solidifies its lead. To look deeper into the dynamic of such relationship let’s look at the export baskets of each country in 1995 and 2020. To begin with, China starts off as Textile producer, mostly making clothing and simple machinery and electronics (lower quality) as well as agriculture. However 25 years later its economy shift drastically towards high skilled and capital intensive manufacturing of electronics and machinery.</p>
<div>

</div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/china_exports_1995.png" class="img-fluid figure-img"></p>
<figcaption>China Export Composition 1995</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/china_exports_2020.png" class="img-fluid figure-img"></p>
<figcaption>China Export Composition 2020</figcaption>
</figure>
</div>
</div>
</div>
</div>
<div>

</div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/brazil_exports_1995.png" class="img-fluid figure-img"></p>
<figcaption>Brazil Export Composition 1995</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pictures/brazil_exports_2020.png" class="img-fluid figure-img"></p>
<figcaption>Brazil Export Composition 2020</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>Brazil on the other hand, didn’t progress away from reliance on raw materials, but to the contrary increased the role of agriculture and mining in its exports.</p>
<!-- Comparing the relationship Economic complexity rank and GDP per Capita, Human Development Index, and Mean Years of Schooling. Notice the pattern that China and Brazil have re -->
<!-- ```{r} -->
<!-- #| label: "fig-ecr_vs_other" -->
<!-- #| fig-cap: "Economic Complexity Rank and Other Indicators" -->
<!-- library(countrycode) -->
<!-- wid_data %>% -->
<!--   filter(str_length(country) <= 2) %>% -->
<!--   mutate( -->
<!--     iso3c = countrycode( -->
<!--       country, -->
<!--       origin = "iso2c", -->
<!--       destination = "iso3c" -->
<!--     ) -->
<!--   ) %>% -->
<!--   left_join(rename(eci_data, iso3c = code)) %>% -->
<!--   left_join( -->
<!--     mutate(hdi_data, year = as.numeric(year)) %>% -->
<!--       filter(index %in% c("hdi", "mys")) %>% pivot_wider(names_from = index, values_from = value) -->
<!--   ) %>% -->
<!--   left_join(., rename(pwt_data, iso3c = isocode) |> mutate(iso3c = as.character(iso3c)), by = c("iso3c", "year")) %>% -->
<!--     mutate(rgdppc = rgdpe/pop) %>% -->
<!--   select(iso3c, year, hs_eci_rank, rgdppc, hdi, mys ) %>% drop_na() %>% -->
<!--   pivot_longer(-c(year, iso3c, hs_eci_rank)) %>% -->
<!--   filter(iso3c %in% c("BRA", "CHN")) %>% -->
<!--   mutate( -->
<!--     name = case_match(name, -->
<!--                       "hdi" ~ "HDI", -->
<!--                       "mys" ~ "MYS", -->
<!--                       # "rgdpe" ~ "GDP Millions", -->
<!--                       "rgdppc" ~ "GDP per capita", -->
<!--                       .default = name) -->
<!--          ) %>% -->
<!--   ggplot(aes(y = hs_eci_rank, x = value, color = iso3c)) +  -->
<!--   geom_point() + -->
<!--   facet_wrap(vars(name), scales = "free") + -->
<!--   scale_y_reverse() + -->
<!--   scale_colour_Publication() + -->
<!--   labs( -->
<!--        x = "Value of an Indicator", -->
<!--        y = "ECI Rank") + -->
<!--   theme( -->
<!--     axis.title.y = element_text(angle = 90) -->
<!--   ) -->
<!-- ``` -->
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>In conclusion, the divergent growth paths of China and Brazil from 1990 to 2020, as analyzed through various economic indicators including the Economic Complexity Index (ECI), GDP, and the Human Development Index (HDI), reflect the profound impact of national policies on economic development. China’s rapid ascent to a global manufacturing powerhouse is largely attributed to its strategic state-led policies, emphasizing investment in education, infrastructure, and technology. These investments have fostered an environment conducive to innovation and complex manufacturing, propelling China’s economy forward.</p>
<p>On the other hand, Brazil’s growth trajectory, characterized by a reliance on commodity exports and less dramatic advancements in economic complexity, suggests that democratic governance and market-oriented policies alone are not sufficient to achieve high levels of economic complexity and innovation. Brazil’s slower pace in adopting reforms in education and infrastructure investment has limited its ability to diversify and climb up the value chain.</p>
<p>This analysis underscores the critical role of policy in shaping economic outcomes. While both countries started from similar economic standings in 1990, their policy choices have led to vastly different economic structures and growth rates. China’s example demonstrates the potential of targeted investments in human capital and technology to drive economic complexity and growth. In contrast, Brazil’s experience highlights the challenges of relying predominantly on natural resources and the need for broader policy reforms to enhance economic complexity and sustainable development. The comparative study of China and Brazil offers valuable lessons for other emerging economies on the importance of policy decisions in navigating the path to economic growth and complexity.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-vanarkProductivityGapEurope2008" class="csl-entry" role="listitem">
Ark, Bart van, Mary O’Mahony, and Marcel P Timmer. 2008. <span>“The Productivity Gap Between Europe and the United States: Trends and Causes.”</span> <em>Journal of Economic Perspectives</em> 22 (1): 25–44. <a href="https://doi.org/10.1257/jep.22.1.25">https://doi.org/10.1257/jep.22.1.25</a>.
</div>
<div id="ref-benhabibChapter13Human2005" class="csl-entry" role="listitem">
Benhabib, Jess, and Mark M. Spiegel. 2005. <span>“Chapter 13 Human Capital and Technology Diffusion.”</span> In, 1:935–66. Elsevier. <a href="https://doi.org/10.1016/S1574-0684(05)01013-0">https://doi.org/10.1016/S1574-0684(05)01013-0</a>.
</div>
<div id="ref-bronziniDeterminantsLongrunRegional2009" class="csl-entry" role="listitem">
Bronzini, Raffaello, and Paolo Piselli. 2009. <span>“Determinants of Long-Run Regional Productivity with Geographical Spillovers: The Role of R&amp;D, Human Capital and Public Infrastructure.”</span> <em>Regional Science and Urban Economics</em> 39 (2): 187–99. <a href="https://doi.org/10.1016/j.regsciurbeco.2008.07.002">https://doi.org/10.1016/j.regsciurbeco.2008.07.002</a>.
</div>
<div id="ref-coeInternationalSpillovers1995" class="csl-entry" role="listitem">
Coe, David T., and Elhanan Helpman. 1995. <span>“International R&amp;D Spillovers.”</span> <em>European Economic Review</em> 39 (5): 859–87. <a href="https://doi.org/10.1016/0014-2921(94)00100-E">https://doi.org/10.1016/0014-2921(94)00100-E</a>.
</div>
<div id="ref-cominTechnologyUsageLags2008" class="csl-entry" role="listitem">
Comin, Diego, Bart Hobijn, and Emilie Rovito. 2008. <span>“Technology Usage Lags.”</span> <em>Journal of Economic Growth</em> 13 (4): 237–56. <a href="https://doi.org/10.1007/s10887-008-9035-5">https://doi.org/10.1007/s10887-008-9035-5</a>.
</div>
<div id="ref-feenstraNextGenerationPenn2015" class="csl-entry" role="listitem">
Feenstra, Robert C., Robert Inklaar, and Marcel P. Timmer. 2015. <span>“The Next Generation of the Penn World Table.”</span> <em>American Economic Review</em> 105 (10): 3150–82. <a href="https://doi.org/10.1257/aer.20130954">https://doi.org/10.1257/aer.20130954</a>.
</div>
<div id="ref-furmanCatchingStandingStill2004a" class="csl-entry" role="listitem">
Furman, Jeffrey L., and Richard Hayes. 2004. <span>“Catching up or Standing Still?”</span> <em>Research Policy</em> 33 (9): 1329–54. <a href="https://doi.org/10.1016/j.respol.2004.09.006">https://doi.org/10.1016/j.respol.2004.09.006</a>.
</div>
<div id="ref-griffithMappingTwoFaces2004" class="csl-entry" role="listitem">
Griffith, Rachel, Stephen Redding, and John Van Reenen. 2004. <span>“Mapping the Two Faces of R&amp;D: Productivity Growth in a Panel of OECD Industries.”</span> <em>Review of Economics and Statistics</em> 86 (4): 883–95. <a href="https://doi.org/10.1162/0034653043125194">https://doi.org/10.1162/0034653043125194</a>.
</div>
<div id="ref-guellecProductivityGrowthInstitutional2004" class="csl-entry" role="listitem">
Guellec, Dominique, and Bruno van Pottelsberghe de la Potterie. 2004. <span>“From r&amp;d to Productivity Growth: Do the Institutional Settings and the Source of Funds of r&amp;d Matter?”</span> <em>Oxford Bulletin of Economics and Statistics</em> 66 (3): 353–78. <a href="https://doi.org/10.1111/j.1468-0084.2004.00083.x">https://doi.org/10.1111/j.1468-0084.2004.00083.x</a>.
</div>
<div id="ref-hanushekKnowledgeCapitalNations2015" class="csl-entry" role="listitem">
Hanushek, Eric A., and Ludger Woessmann. 2015. <span>“The Knowledge Capital of Nations: Education and the Economics of Growth,”</span> April.
</div>
<div id="ref-hidalgoBuildingBlocksEconomic2009" class="csl-entry" role="listitem">
Hidalgo, César A., and Ricardo Hausmann. 2009. <span>“The Building Blocks of Economic Complexity.”</span> <em>Proceedings of the National Academy of Sciences of the United States of America</em> 106 (26): 10570–75. <a href="https://doi.org/10.1073/pnas.0900943106">https://doi.org/10.1073/pnas.0900943106</a>.
</div>
<div id="ref-HarvardAtlas" class="csl-entry" role="listitem">
International Development at Harvard University, Center for. n.d. <span>“The Atlas of Economic Complexity.”</span> <a href="[https://atlas.cid.harvard.edu/](https://atlas.cid.harvard.edu/)">[https://atlas.cid.harvard.edu/](https://atlas.cid.harvard.edu/)</a>.
</div>
<div id="ref-olinerExplainingProductiveDecade2008" class="csl-entry" role="listitem">
Oliner, Stephen D., Daniel E. Sichel, and Kevin J. Stiroh. 2008. <span>“Explaining a Productive Decade.”</span> <em>Journal of Policy Modeling</em> 30 (4): 633–73. <a href="https://doi.org/10.1016/j.jpolmod.2008.04.007">https://doi.org/10.1016/j.jpolmod.2008.04.007</a>.
</div>
<div id="ref-Piketty2024" class="csl-entry" role="listitem">
Piketty, Thomas, Gabriel Zucman, Thomas Blanchet, Lucas Chancel, Ignacio Flores, Marc Morgan, Facundo Alvaredo, et al. 2024. <span>“Distributional National Accounts Guidelines: Methods and Concepts Used in the World Inequality Database.”</span>
</div>
<div id="ref-UNDP2022" class="csl-entry" role="listitem">
(UNDP), United Nations Development Programme. 2022. <span>“Human Development Report 2021/2022: Uncertain Times, Unsettled Lives: Shaping Our Future in a Transforming World.”</span>
</div>
<div id="ref-university2019" class="csl-entry" role="listitem">
University, The Growth Lab At Harvard. 2019. <span>“Growth Projections and Complexity Rankings.”</span> Harvard Dataverse. <a href="https://doi.org/10.7910/DVN/XTAQMC">https://doi.org/10.7910/DVN/XTAQMC</a>.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>